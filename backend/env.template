# OMOP Cohort Builder - Environment Configuration Template
# Copy this file to .env and update with your actual values:
#   cp env.template .env

# =============================================================================
# DATABRICKS CONFIGURATION (REQUIRED)
# =============================================================================

# Your Databricks workspace hostname (without https://)
# Example: mycompany.cloud.databricks.com
# Find it: Your Databricks URL in the browser
DATABRICKS_HOST=your-workspace.cloud.databricks.com

# SQL Warehouse or Cluster HTTP Path
# Example: /sql/1.0/warehouses/abc123def456
# How to get it:
#   1. Databricks → SQL Warehouses (or Compute → Clusters)
#   2. Select your warehouse/cluster
#   3. Connection Details → HTTP Path
DATABRICKS_HTTP_PATH=/sql/1.0/warehouses/your-warehouse-id

# =============================================================================
# AUTHENTICATION - OAuth Service Principal (REQUIRED)
# =============================================================================
# This app uses OAuth M2M authentication for consistency across all environments.
#
# When deployed as a Databricks App:
#   - DATABRICKS_CLIENT_ID and DATABRICKS_CLIENT_SECRET are automatically provided
#   - No configuration needed!
#
# For local development:
#   1. Create a service principal in Databricks:
#      - Settings → User Management → Service Principals → Add
#   2. Generate an OAuth secret:
#      - Select your service principal → Secrets tab → Generate secret
#      - Copy the Client ID and Secret (shown only once!)
#   3. Grant permissions:
#      - SQL Warehouse: Can Use permission
#      - OMOP data: Read access to catalog, schema, and tables
#   4. Add credentials below:
#
DATABRICKS_CLIENT_ID=your-service-principal-client-id
DATABRICKS_CLIENT_SECRET=your-service-principal-oauth-secret

# =============================================================================
# OMOP DATABASE CONFIGURATION
# =============================================================================

# Catalog name where OMOP tables are stored
# Default: hive_metastore
# Unity Catalog: your_catalog_name
OMOP_CATALOG=hive_metastore

# Schema/database name where OMOP tables are stored
# Example: omop_cdm, omop_schema, default
OMOP_SCHEMA=omop_cdm

# =============================================================================
# GENAI CONFIGURATION (OPTIONAL)
# =============================================================================

# Databricks Genie Space ID (optional - for enhanced GenAI features)
# Leave empty to use basic NL processing
DATABRICKS_GENIE_SPACE_ID=

# =============================================================================
# API CONFIGURATION (Usually no need to change)
# =============================================================================

# Host address for the API server
API_HOST=0.0.0.0

# Port for the API server
API_PORT=8000

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# SSL CONFIGURATION (For corporate proxies / development)
# =============================================================================

# Set to false if you're behind a corporate proxy with SSL inspection
# or getting SSL certificate verification errors
# WARNING: Only use false for development/testing, NOT for production!
# Default: true (verify SSL certificates)
DATABRICKS_VERIFY_SSL=true

# If you see "certificate verify failed: self-signed certificate" errors:
# DATABRICKS_VERIFY_SSL=false

